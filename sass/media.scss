//  ------------------------------------------------------------------
//  needed inside and outside the wysiwyg

		$sizes: (
			"100" : 100%
			,"75" : 75%
			,"66" : 66.66%
			,"50" : 50%
			,"33" : 33.33%
			,"25" : 25%
			,"16" : 16.66%
		);

		$horiz-space-between-floated-image-and-wrapped-text: 32px;
		$bottom-margin-when-floated: 8px;

		@each $name, $size in $sizes {
			.size-#{$name}{
				max-width: $size;
			}
			.cke_widget_wrapper
			{
				&>.cke_widget_element[data-align=right][data-size="#{$name}"]+.cke_widget_drag_handler_container{
					left: calc( 100% - #{$size} ) !important; // no way around having !important here since CKE inlines the styles we don't want
				}
			}
		}

		figure.caption-drupal-media
		{
		  margin-block-start: var(--paragraph-spacing);
		  margin-block-end: var(--paragraph-spacing);
			margin-inline-start: 0;
			margin-inline-end: 0;
			figcaption{
				background-color: #ededee;
			  padding: 2px 4px;
			}
		}

		figure.caption-drupal-media:not(.size-100) // this handles the case with a caption
		,.media:not(.size-100) // this handles the case without a caption
		{
			&.align-left{
			  margin: 0 $horiz-space-between-floated-image-and-wrapped-text $bottom-margin-when-floated 0;
			}
			&.align-right{
			  margin: 0 0 $bottom-margin-when-floated $horiz-space-between-floated-image-and-wrapped-text;
			}
		}


//  ------------------------------------------------------------------
//  needed only inside the wysiwyg

		.cke_editable{ // make very large images fit inside the wysiwyg
			img {
				max-width: 100%;
				height: auto;
			}
		}

		.media-library-item__edit { // position the edit button at the top right of the image
		  position: absolute;
		  top: 2px;
		  right: 2px !important; // this is set to 10px in ckeditor.drupalmedia.css
		  &:hover{
		  	cursor: pointer;
		  }
		}

		.cke_widget_wrapper{
			&>.cke_widget_drag_handler_container{ // resolves the poor contrast of the translucent png provided by CKE
				opacity: 1;
				background-color: #ffffff !important;
			}
		}

//  ------------------------------------------------------------------
//  needed only outside the wysiwyg
